{% extends "../base/base.html" %}

{% block title %}Update{% endblock title %}

{% block content %}

{% load crispy_forms_tags %}


    

<!-- <style>
    .login{
        min-height: 100vh;
    }

    .container-fluid{
        max-width: 100%;
    }

    .account-form input{
        border: 2px solid #ccc;
        height: calc(2em + .75rem + 20px);
    }

    .account-form input:focus{
        border-color: #1497ff;
        box-shadow: inset 0 0px 0px rgba(0, 0, 0, 0.075), 0 0 0px rgba(255, 0, 0, 0.075);
    }
</style> -->


<div class="container">
    <div class="row">
        <div class="col-md-6 mx-auto mt-5">
            <form class="p-4 rounded"  method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                <p class="h4 mb-4 font-weight-bold">Sign</p>

                
                {% if user_form.is_valid %}
                    <div class="alert alert-primary" role="alert">
                        Detail successfully update !
                    </div>
                    <p class="small text-center pt-0 badge badge-secondary">
                        <a href="{% url 'accounts:profile' %}" text-decoration-none>Back to Dashbord</a>
                    </p>
                {% else %}

                    <p class="h4 mb-4 font-weight-bold">Change your detail</p>
                    <p>You can edit your account using the following form: </p>

                {% endif %}

                
                  
                {% if user_form.errors %}
         
                    {% for field in user_form %}
                      
                      {% if field.errors %}
                         <div class="alert alert-danger" role="alert">
                            {{field.errors|striptags}}
                         </div> 
                      {% endif %}
                          
                    {% endfor %}
                        
                {% endif %}
                    

               

                <label class="font-weight-bold">{{user_form.first_name.label}}</label>
                {{user_form.first_name}}

                <label class="font-weight-bold">{{user_form.last_name.label}}</label>
                {{user_form.last_name}}

                <label class="font-weight-bold m-3">{{user_form.email.label}}</label>
                {{user_form.email}}

                <label class="font-weight-bold m-3">{{profile_form.bio.label}}</label>
                {{profile_form.bio}} 

                <label class="font-weight-bold pb-3 mb-3">{{profile_form.avatar.label}}</label>
                {{profile_form.avatar}}
                    
                <button class="btn btn-secondary btn-block mt-3" style="display: inline-block; width: 100%;" type="submit" value="edit">Save change</button>

                <hr class="mb-3">

                <p class="h5 mb-2 pt-4 fonte-weight-bold">Delete Account</p>
                <p class="small">If you would like to delete your account press the button below</p>
                <a href="{% url 'accounts:deleteuser' %}" class="btn btn-danger btn btn-block py-2 mb-4 font-weight-bold btn-md" style="width: 100%;" role="button" aria-pressed="">
                    Delete Account
                </a>
               

            </form>

        </div>
    </div>
</div>

  
{% endblock content %}